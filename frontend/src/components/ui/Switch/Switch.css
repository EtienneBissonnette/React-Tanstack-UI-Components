/* =============================================================================
   Switch Component
   ============================================================================= */

.switch {
  position: relative;
  display: inline-flex;
  align-items: center;
  width: 44px;
  height: 24px;
  padding: 2px;
  background: var(--color-bg-active);
  border: none;
  border-radius: var(--radius-full);
  cursor: pointer;
  transition:
    background var(--duration-fast) ease,
    box-shadow var(--duration-fast) ease;
}

.switch:hover {
  background: var(--color-fg-subtle);
}

.switch:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px var(--color-primary-muted);
}

/* =============================================================================
   Checked State
   ============================================================================= */

.switch[data-checked] {
  background: var(--color-primary);
}

.switch[data-checked]:hover {
  background: var(--color-primary-hover);
}

/* =============================================================================
   Disabled State
   ============================================================================= */

.switch[data-disabled] {
  opacity: 0.5;
  cursor: not-allowed;
}

/* =============================================================================
   Thumb with refined animation
   ============================================================================= */

.switch__thumb {
  display: block;
  width: 20px;
  height: 20px;
  background: var(--color-bg);
  border-radius: var(--radius-full);
  box-shadow:
    0 1px 3px rgba(0, 0, 0, 0.15),
    0 1px 1px rgba(0, 0, 0, 0.1);
  transition:
    transform var(--duration-fast) cubic-bezier(0.34, 1.56, 0.64, 1),
    width var(--duration-fast) ease;
}

.switch[data-checked] .switch__thumb {
  transform: translateX(20px);
}

/* Stretch effect on active */
.switch:active:not([data-disabled]) .switch__thumb {
  width: 24px;
}

.switch[data-checked]:active:not([data-disabled]) .switch__thumb {
  transform: translateX(16px);
}

/* =============================================================================
   Label Wrapper
   ============================================================================= */

.switch__label {
  display: inline-flex;
  align-items: center;
  gap: var(--space-3);
  cursor: pointer;
  font-size: var(--text-sm);
  color: var(--color-fg);
  line-height: var(--leading-normal);
}

.switch__label:has(.switch[data-disabled]) {
  cursor: not-allowed;
  opacity: 0.5;
}

.switch__text {
  user-select: none;
}

/* =============================================================================
   Size: Small
   ============================================================================= */

.switch[data-size='sm'] {
  width: 36px;
  height: 20px;
}

.switch[data-size='sm'] .switch__thumb {
  width: 16px;
  height: 16px;
}

.switch[data-size='sm'][data-checked] .switch__thumb {
  transform: translateX(16px);
}

.switch[data-size='sm']:active:not([data-disabled]) .switch__thumb {
  width: 20px;
}

.switch[data-size='sm'][data-checked]:active:not([data-disabled]) .switch__thumb {
  transform: translateX(12px);
}

.switch__label[data-size='sm'] {
  font-size: var(--text-xs);
  gap: var(--space-2);
}

/* =============================================================================
   Size: Large
   ============================================================================= */

.switch[data-size='lg'] {
  width: 52px;
  height: 28px;
}

.switch[data-size='lg'] .switch__thumb {
  width: 24px;
  height: 24px;
}

.switch[data-size='lg'][data-checked] .switch__thumb {
  transform: translateX(24px);
}

.switch[data-size='lg']:active:not([data-disabled]) .switch__thumb {
  width: 28px;
}

.switch[data-size='lg'][data-checked]:active:not([data-disabled]) .switch__thumb {
  transform: translateX(20px);
}

.switch__label[data-size='lg'] {
  font-size: var(--text-base);
}
